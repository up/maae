!function(e,t){"use strict";function n(t,n,r,i,o){this.id=t,this.dependencies=n,this.factoryFunction=r,this.exports={},this.generator=o,this.global=e,r||(this.exportValue=i||this.exports),t&&(f[t]=!0,a[t]=this)}function r(e,r,i){var c,u,p=arguments.length,a=["require","exports","module"];return 1===p?(i=e,r=a,e=t):2===p&&(i=r,"string"==typeof e?r=a:(r=e,e=t)),"function"!=typeof i&&(u=i,i=t),c=new n(e,r,i,u),s.push(c),d.push(c),setTimeout(function(){c.loadDependencies()},0),o(),c}function i(e){return a.hasOwnProperty(e)?a[e]:void 0}function o(){for(var e,t,n,r,i,o,c,u=0,p=1;u!==p;)for(p=u,e=d.length;e--;)if(n=d[e],!n.exportValue&&n.checkDependencies()){for(d.splice(e,1),r=n.factoryFunction,i=[],t=n.dependencies.length;t--;)o=n.dependencies[t],i.unshift(n.getDependencyValue(o));c=r.apply(n.exports,i),n.exportValue=c||n.exports,++u}}function c(e,t){if(!e.push||!t){if("string"==typeof e)return i(e).exportValue;throw new Error(p)}r(e,t)}function u(e,r){a[e]=new n(e,t,t,t,r),f[e]=!0}var p="malformed require",d=[],s=[],a={},f={};n.prototype.loadDependencies=function(){var e,t,n=this.dependencies;for(t=n.length;t--;)e=n[t],"."===e.charAt(0)&&(e=this.id.indexOf("/")>=0?this.id.replace(/\/[^/]*$/,"/")+e:"/"+e,e=e.replace(/[/]\.[/]/g,"/"),n[t]=e),f.hasOwnProperty(e)||this.loadScript(e)},n.prototype.checkDependencies=function(e){var t,n,r=this.dependencies||[];for(n=r.length;n--;){if(t=i(r[n]),!t)return!1;if(!t.exportValue&&!(!e&&t.checkDependencies(this.id)||e&&e===t.id))return!1}return!0},n.prototype.getDependencyValue=function(e){var t=i(e);return t.generator?t.generator(this):t.exportValue},n.prototype.loadScript=function(e){var t=document.createElement("script"),r=document.documentElement.children[0];f[e]=!0,t.onload=t.onreadystatechange=function(){var c,u;if("string"!=typeof t.readyState||t.readyState.match(/^(loaded|complete)$/)){for(;u=s.pop();)u.id&&u.id!==e||(c=!0,u.id=e),i(u.id)||(a[u.id]=u);c||(u=new n(e),a[e]=u),o(),r.removeChild(t)}},t.src=e+".js",r.appendChild(t)},u("require",function(t){function n(){return c.apply(e,arguments)}return n.toUrl=function(e){return t.id+"/"+e},n}),u("exports",function(e){return e.exports}),u("module",function(e){return e}),e.define=r,e.define.amd={lite:{config:function(){}}}}(this);
define("src/js/classes/xhr",[],function(){"use strict";function t(t,e){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&200===n.status&&e(JSON.parse(n.responseText))},n.open("GET",t,!0),n.send()}return{getJSON:t}}),define("src/js/classes/tidy",[],function(){"use strict";return function(t){return t=t.replace(/<br><\/p>/g,"</p>"),t=t.replace(/<\/p>/g,"</p>\n"),t=t.replace(/<\/h1>/g,"</h1>\n")}}),define("src/js/classes/editor",["src/js/classes/tidy"],function(t){"use strict";function e(){var t,e=this.id,r=!1,i=this.getAttribute("data-cmd")||null;"promptUser"===i&&(i=prompt(this.getAttribute("data-prompt-text")));try{t=c.document.execCommand(e,r,i),n()}catch(s){alert(s.name+': "'+s.message+'"')}}function n(){s.value=t(i.innerHTML)}function r(){i=c.document.querySelector("body"),c.document.designMode="On",c.document.body.contentEditable=!0}var i,s=document.getElementById("editorTextarea"),a=document.getElementById("editorIframe"),c=a.contentWindow||a.contentDocument;return{iframeWindow:c,init:r,updateTextarea:n,runCmd:e}}),define("src/js/app",["src/js/classes/editor","src/js/classes/xhr"],function(t,e){"use strict";var n={};return n.init=function(){var n=document.querySelector("#editorForm"),r=document.querySelector("#editorTextarea");r.value="",e.getJSON("data/buttons.config.json",function(e){e.forEach(function(e){var r=document.createElement("input");r.setAttribute("type","button"),r.setAttribute("id",e.id),r.setAttribute("value",e.value),e.cmd&&r.setAttribute("data-cmd",e.cmd),e.prompt&&r.setAttribute("data-prompt-text",e.prompt),r.addEventListener("click",t.runCmd),n.appendChild(r)})}),window.addEventListener("load",t.init),t.iframeWindow.addEventListener("keyup",t.updateTextarea)},n}),define("main",["src/js/app"],function(t){"use strict";t.init()});